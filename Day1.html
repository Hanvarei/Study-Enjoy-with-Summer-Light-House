<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Day 1 Flashcards</title>

<style>
  body {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    background: #ffe6d5;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px 10px 40px;
    margin: 0;
  }
  h1 { margin-bottom: 10px; text-align: center; }

  .card {
    width: 320px;
    min-height: 150px;
    background: cadetblue;
    color: white;
    border-radius: 16px;
    padding: 20px;
    text-align: center;
    margin-bottom: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.15);
    display: flex;
    flex-direction: column;
    justify-content: center;
    transition: background 0.4s ease, transform 0.2s ease;
    cursor: pointer;
  }
  .card.bounce { animation: bounce 0.18s ease; }
  @keyframes bounce {
    0% { transform: scale(1); }
    50% { transform: scale(0.97); }
    100% { transform: scale(1); }
  }

  .label { font-size: 0.9rem; margin-bottom: 8px; opacity: 0.9; }
  #text-main { font-size: 1.6rem; margin-bottom: 8px; word-wrap: break-word; }
  #text-sub { font-size: 1rem; opacity: 0.9; }

  .audio-buttons, .buttons {
    display: flex;
    gap: 10px;
    margin-bottom: 10px;
    flex-wrap: wrap;
    justify-content: center;
  }
  button {
    border: none;
    border-radius: 999px;
    padding: 8px 14px;
    font-size: 0.9rem;
    cursor: pointer;
    background: #007bff;
    color: black;
    transition: transform 0.1s ease, box-shadow 0.1s ease, background 0.15s ease;
  }
  button:hover { transform: translateY(-1px); box-shadow: 0 4px 12px rgba(0,0,0,0.2); }
  button.secondary { background: #ffb703; color: #333; }
  button.small { font-size: 0.8rem; padding: 6px 10px; }
  .nav-btn { min-width: 90px; }

  #counter { font-size: 0.85rem; color: #555; margin-bottom: 10px; }

  .auto-options { font-size: 0.8rem; color: #444; margin-bottom: 18px; }
  .auto-options label { display: inline-flex; align-items: center; gap: 4px; cursor: pointer; }

  .question {
    background: white;
    padding: 16px 18px;
    margin: 10px 0;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    max-width: 520px;
    width: 100%;
  }
  .question p { margin: 6px 0; }

  .choice-btn {
    display: block;
    width: 100%;
    margin: 6px 0;
    padding: 12px;
    border-radius: 8px;
    background: wheat;
    color: #222;
    text-align: left;
    border: none;
    cursor: pointer;
  }
  .choice-btn.correct { background: #90EE90 !important; }
  .choice-btn.wrong { background: #FF7F7F !important; }
  .result { margin-top: 8px; font-weight: bold; }
</style>
</head>

<body>
  <h1>Day 1 â€“ Flashcards</h1>

  <div class="card" id="card">
    <div class="label" id="side-label">English</div>
    <div id="text-main"></div>
    <div id="text-sub"></div>
  </div>

  <div class="audio-buttons">
    <button class="small" id="speak-en">â–¶ï¸ English</button>
    <button class="small secondary" id="speak-ja">â–¶ï¸ æ—¥æœ¬èªï¼ˆèª­ã¿æ–¹ï¼‰</button>
  </div>

  <div class="buttons">
    <button id="prev" class="nav-btn">â† Prev</button>
    <button id="flip" class="secondary nav-btn">ğŸ”„ Flip</button>
    <button id="next" class="nav-btn">Next â†’</button>
    <button id="random" class="nav-btn">ğŸ”€ Random</button>
  </div>

  <div id="counter"></div>

  <div class="auto-options">
    <label>
      <input type="checkbox" id="auto-en" />
      Auto Englishï¼ˆã‚«ãƒ¼ãƒ‰è¡¨ç¤ºã”ã¨ã«ç™ºéŸ³ï¼‰
    </label>
  </div>

  <!-- ===================== QUIZ (Day1 All) ===================== -->

  <div class="question">
    <p>1. I</p>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(A) ã‚ãªãŸ</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(B) å½¼</button>
    <button class="choice-btn" onclick="checkAnswer(this,true)">(C) ç§</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(D) å½¼å¥³</button>
    <p class="result"></p>
  </div>

  <div class="question">
    <p>2. ç§</p>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(A) You</button>
    <button class="choice-btn" onclick="checkAnswer(this,true)">(B) I</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(C) He</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(D) She</button>
    <p class="result"></p>
  </div>

  <div class="question">
    <p>3. I'm 16 years old.</p>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(A) ç§ã¯17ã•ã„ã§ã™ã€‚</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(B) ç§ã¯19ã•ã„ã§ã™ã€‚</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(C) ç§ã¯15ã•ã„ã§ã™ã€‚</button>
    <button class="choice-btn" onclick="checkAnswer(this,true)">(D) ç§ã¯16ã•ã„ã§ã™ã€‚</button>
    <p class="result"></p>
  </div>

  <div class="question">
    <p>4. ç§ã¯16ã•ã„ã§ã™ã€‚</p>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(A) I'm 15 years old.</button>
    <button class="choice-btn" onclick="checkAnswer(this,true)">(B) I'm 16 years old.</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(C) I'm 17 years old.</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(D) I'm 18 years old.</button>
    <p class="result"></p>
  </div>

  <div class="question">
    <p>5. My</p>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(A) å½¼ã®</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(B) å½¼å¥³ã®</button>
    <button class="choice-btn" onclick="checkAnswer(this,true)">(C) ç§ã®</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(D) ã‚ãªãŸã®</button>
    <p class="result"></p>
  </div>

  <div class="question">
    <p>6. ç§ã®åå‰ã¯ã€‚ã€‚ã€‚ã§ã™ã€‚</p>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(A) I am</button>
    <button class="choice-btn" onclick="checkAnswer(this,true)">(B) My name is</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(C) I have a name</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(D) Your name is</button>
    <p class="result"></p>
  </div>

  <div class="question">
    <p>7. have</p>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(A) è¡Œã</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(B) é£Ÿã¹ã‚‹</button>
    <button class="choice-btn" onclick="checkAnswer(this,true)">(C) æŒã£ã¦ã„ã‚‹</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(D) è¦‹ã‚‹</button>
    <p class="result"></p>
  </div>

  <div class="question">
    <p>8. æŒã£ã¦ã„ã‚‹</p>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(A) like</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(B) want</button>
    <button class="choice-btn" onclick="checkAnswer(this,true)">(C) have</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(D) need</button>
    <p class="result"></p>
  </div>

  <div class="question">
    <p>9. busy</p>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(A) ã†ã‚Œã—ã„</button>
    <button class="choice-btn" onclick="checkAnswer(this,true)">(B) å¿™ã—ã„</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(C) å¯’ã„</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(D) ç°¡å˜ãª</button>
    <p class="result"></p>
  </div>

  <div class="question">
    <p>10. å¿™ã—ã„</p>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(A) happy</button>
    <button class="choice-btn" onclick="checkAnswer(this,true)">(B) busy</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(C) sleepy</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(D) hungry</button>
    <p class="result"></p>
  </div>

  <div class="question">
    <p>11. life</p>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(A) å­¦ç”Ÿ</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(B) å‹é”</button>
    <button class="choice-btn" onclick="checkAnswer(this,true)">(C) äººç”Ÿãƒ»ç”Ÿæ´»</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(D) å®¶</button>
    <p class="result"></p>
  </div>

  <div class="question">
    <p>12. äººç”Ÿãƒ»ç”Ÿæ´»</p>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(A) world</button>
    <button class="choice-btn" onclick="checkAnswer(this,true)">(B) life</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(C) family</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(D) love</button>
    <p class="result"></p>
  </div>

  <div class="question">
    <p>13. busy life</p>
    <button class="choice-btn" onclick="checkAnswer(this,true)">(A) å¿™ã—ã„ç”Ÿæ´»</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(B) æ¥½ã—ã„ç”Ÿæ´»</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(C) æ–°ã—ã„ç”Ÿæ´»</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(D) ç°¡å˜ãªç”Ÿæ´»</button>
    <p class="result"></p>
  </div>

  <div class="question">
    <p>14. å¿™ã—ã„ç”Ÿæ´»</p>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(A) a happy life</button>
    <button class="choice-btn" onclick="checkAnswer(this,true)">(B) a busy life</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(C) a good life</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(D) a long life</button>
    <p class="result"></p>
  </div>

  <div class="question">
    <p>15. have a busy life</p>
    <button class="choice-btn" onclick="checkAnswer(this,true)">(A) å¿™ã—ã„ç”Ÿæ´»ã‚’ã—ã¦ã„ã‚‹ï¼›å¿™ã—ã„ç”Ÿæ´»ã‚’é€ã£ã¦ã„ã‚‹</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(B) é™ã‹ãªç”Ÿæ´»ã‚’é€ã£ã¦ã„ã‚‹</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(C) å¹¸ã›ã„ãªç”Ÿæ´»ã‚’ã—ã¦ã„ã‚‹</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(D) å­¦æ ¡ç”Ÿæ´»ã‚’é€ã£ã¦ã„ã‚‹</button>
    <p class="result"></p>
  </div>

  <div class="question">
    <p>16. å¿™ã—ã„ç”Ÿæ´»ã‚’ã—ã¦ã„ã‚‹</p>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(A) live a happy life</button>
    <button class="choice-btn" onclick="checkAnswer(this,true)">(B) have a busy life</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(C) make a busy life</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(D) be a busy person</button>
    <p class="result"></p>
  </div>

  <div class="question">
    <p>17. wake up</p>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(A) é£Ÿã¹ã‚‹</button>
    <button class="choice-btn" onclick="checkAnswer(this,true)">(B) èµ·ãã‚‹</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(C) å¯ã‚‹</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(D) æ­©ã</button>
    <p class="result"></p>
  </div>

  <div class="question">
    <p>18. èµ·ãã‚‹</p>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(A) get up</button>
    <button class="choice-btn" onclick="checkAnswer(this,true)">(B) wake up</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(C) stay up</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(D) stand up</button>
    <p class="result"></p>
  </div>

  <div class="question">
    <p>19. at 7 o'clock</p>
    <button class="choice-btn" onclick="checkAnswer(this,true)">(A) 7æ™‚ã«</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(B) 7æ™‚åŠã«</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(C) 6æ™‚ã«</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(D) 7æ™‚ã”ã‚</button>
    <p class="result"></p>
  </div>

  <div class="question">
    <p>20. 7æ™‚ã«</p>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(A) at 8 o'clock</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(B) in 7 o'clock</button>
    <button class="choice-btn" onclick="checkAnswer(this,true)">(C) at 7 o'clock</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(D) on 7 o'clock</button>
    <p class="result"></p>
  </div>

  <div class="question">
    <p>21. I wake up at 7 o'clock</p>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(A) 7æ™‚ã«å¯ã‚‹</button>
    <button class="choice-btn" onclick="checkAnswer(this,true)">(B) 7æ™‚ã«èµ·ãã‚‹</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(C) 7æ™‚ã«å­¦æ ¡ã¸è¡Œã</button>
    <button class="choice-btn" onclick="checkAnswer(this,false)">(D) 7æ™‚ã«æœã”é£¯ã‚’é£Ÿã¹ã‚‹</button>
    <p class="result"></p>
  </div>

<script>
  /* ================= Flashcards ================= */
  const cards = [
    { en:"I", ja:"ç§", read:"ã‚ãŸã—", pron: "ai" },
    { en:"I'm ... years old.", ja:"ç§ã¯â€¦ã•ã„ã§ã™ã€‚", read:"ã‚ãŸã—ã¯â€¦ã•ã„ã§ã™", pron:"I'm years old" },
    { en:"My", ja:"ç§ã®", read:"ã‚ãŸã—ã®", pron:"my" },
    { en:"My name is ...", ja:"ç§ã®åå‰ã¯â€¦ã§ã™ã€‚", read:"ã‚ãŸã—ã®ãªã¾ãˆã¯â€¦ã§ã™", pron:"my name is" },
    { en:"have", ja:"æŒã£ã¦ã„ã‚‹", read:"ã‚‚ã£ã¦ã„ã‚‹", pron:"have" },
    { en:"busy", ja:"å¿™ã—ã„", read:"ã„ããŒã—ã„", pron:"busy" },
    { en:"life", ja:"äººç”Ÿãƒ»ç”Ÿæ´»", read:"ã˜ã‚“ã›ã„ãƒ»ã›ã„ã‹ã¤", pron:"life" },
    { en:"busy life", ja:"å¿™ã—ã„ç”Ÿæ´»", read:"ã„ããŒã—ã„ã›ã„ã‹ã¤", pron:"busy life" },
    { en:"have a busy life", ja:"å¿™ã—ã„ç”Ÿæ´»ã‚’ã—ã¦ã„ã‚‹ï¼å¿™ã—ã„ç”Ÿæ´»ã‚’é€ã£ã¦ã„ã‚‹", read:"ã„ããŒã—ã„ã›ã„ã‹ã¤ã‚’ã—ã¦ã„ã‚‹ãƒ»ã„ããŒã—ã„ã›ã„ã‹ã¤ã‚’ãŠãã£ã¦ã„ã‚‹", pron:"have a busy life" },
    { en:"wake up", ja:"èµ·ãã‚‹", read:"ãŠãã‚‹", pron:"wake up" },
    { en:"at ... o'clock", ja:"â€¦æ™‚ã«", read:"â€¦ã˜ã«", pron:"at o'clock" }
  ];

  const STORAGE_KEY_INDEX = "day1FlashIndex";
  const STORAGE_KEY_SIDE  = "day1FlashSide";
  const STORAGE_KEY_AUTO_EN = "day1AutoEn";

  let index = 0;
  let isFront = true;

  const storedIndex = localStorage.getItem(STORAGE_KEY_INDEX);
  const storedSide  = localStorage.getItem(STORAGE_KEY_SIDE);
  const storedAutoEn = localStorage.getItem(STORAGE_KEY_AUTO_EN);

  if (storedIndex !== null) {
    const n = parseInt(storedIndex, 10);
    if (!Number.isNaN(n) && n >= 0 && n < cards.length) index = n;
  }
  if (storedSide === "back") isFront = false;

  const mainEl = document.getElementById("text-main");
  const subEl = document.getElementById("text-sub");
  const labelEl = document.getElementById("side-label");
  const counterEl = document.getElementById("counter");
  const cardEl = document.getElementById("card");
  const autoEnCheckbox = document.getElementById("auto-en");

  if (storedAutoEn === "1") autoEnCheckbox.checked = true;

  function speak(text, lang) {
    if (!window.speechSynthesis) return;
    const u = new SpeechSynthesisUtterance(text);
    u.lang = lang;
    window.speechSynthesis.cancel();
    window.speechSynthesis.speak(u);
  }

  function updateCard(options = { fromUser:false }) {
    const c = cards[index];

    if (isFront) {
      labelEl.textContent = "English";
      mainEl.textContent = c.en;
      subEl.textContent = "";
    } else {
      labelEl.textContent = "æ—¥æœ¬èª";
      mainEl.textContent = c.ja;
      subEl.textContent = "èª­ã¿æ–¹: " + (c.read || "");
    }
    counterEl.textContent = `Card ${index + 1} / ${cards.length}`;

    localStorage.setItem(STORAGE_KEY_INDEX, String(index));
    localStorage.setItem(STORAGE_KEY_SIDE, isFront ? "front" : "back");

    if (options.fromUser && isFront && autoEnCheckbox.checked) {
      speak(c.pron || c.en, "en-US");
    }
  }

  document.getElementById("speak-en").addEventListener("click", () => {
    const c = cards[index];
    speak(c.pron || c.en, "en-US");
  });

  document.getElementById("speak-ja").addEventListener("click", () => {
    const c = cards[index];
    speak(c.read || c.ja, "ja-JP");
  });

  autoEnCheckbox.addEventListener("change", () => {
    localStorage.setItem(STORAGE_KEY_AUTO_EN, autoEnCheckbox.checked ? "1" : "0");
  });

  document.getElementById("next").addEventListener("click", () => {
    index = (index + 1) % cards.length;
    isFront = true;
    animateCard();
    updateCard({ fromUser:true });
  });

  document.getElementById("prev").addEventListener("click", () => {
    index = (index - 1 + cards.length) % cards.length;
    isFront = true;
    animateCard();
    updateCard({ fromUser:true });
  });

  document.getElementById("flip").addEventListener("click", () => {
    isFront = !isFront;
    animateCard();
    updateCard({ fromUser:false });
  });

  document.getElementById("random").addEventListener("click", () => {
    let newIndex = index;
    if (cards.length > 1) {
      while (newIndex === index) newIndex = Math.floor(Math.random() * cards.length);
    }
    index = newIndex;
    isFront = true;
    animateCard();
    updateCard({ fromUser:true });
  });

  const colors = [
    "#76b5c5", "#9dc4b5", "#f3bda1", "#f7d9c4",
    "#c3aed6", "#a3c7d6", "#f2a154", "#ffcc80",
    "#b0d8a4", "#ffb4a2"
  ];

  function animateCard(){
    cardEl.style.background = colors[Math.floor(Math.random() * colors.length)];
    cardEl.classList.remove("bounce");
    void cardEl.offsetWidth;
    cardEl.classList.add("bounce");
  }

  cardEl.addEventListener("click", animateCard);

  function checkAnswer(btn, isCorrect){
    const box = btn.closest(".question");
    const result = box.querySelector(".result");

    box.querySelectorAll(".choice-btn").forEach(b => b.classList.remove("correct","wrong"));

    if (isCorrect) {
      btn.classList.add("correct");
      result.textContent = "âœ” Correct!";
      result.style.color = "green";
    } else {
      btn.classList.add("wrong");
      result.textContent = "âœ˜ Wrong!";
      result.style.color = "red";
    }
  }
  window.checkAnswer = checkAnswer;
  window.checkAnswer = checkAnswer; // keep global

  updateCard();
</script>

</body>
</html>
